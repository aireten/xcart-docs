---
lang: ru
layout: article_with_sidebar
updated_at: '2018-04-26 13:53 +0400'
identifier: ref_5hU36ima
title: Тестирование отправки почты через Mail Tester
order: 250
published: false
---
Часть общения с покупателями происходит по электронной почте посредством уведомлений, маркетинговых сообщений и рассылок. Вжно уделить внимание оформлению, содержанию и отправке почтовых сообщений. Также, важно предотвратить попадание писем в спам.

Согласно исследованиям, 80-90% электронных сообщений в сети - спам. Спам любого вида приносит только вред - наносит финансовый урон, мешает повседневной работе, усложняет получение надёжных сообщений

Предотвратить получение спама можно несколькими способами. 

Современные антиспам-системы используют три типа анализа почтовых сообщений:

1. Анализ IP адреса сервера отправителя.
2. Анализ SPF/DMARC записи домена отправителя и цифровой подписи DKIM.
3. Анализ содержимого письма (заголовка, темы, тела письма, ссылок и т.д.).

Проверка IP адреса необходима для определения надёжности входящей почты. Когда сервер отправки подключается к серверу получения, сервер получения передаёт IP адресу доменное имя отправителя. Затем сервер получения обращается к DNS серверу домена для подтверждения по данным записи SPF, что указанный IP адресом почтовый сервер входит в число серверов и IP адресов, авторизованных отправлять почту на этот домен. Запись содержит информацию о списке серверов, которые имеют право отправлять письма от имени этого домена, и механизм обработки писем, отправленных от других серверов. Так происходит SPF-аутентификация, которая позволяет серверу получения убедиться, что входящая почта не спам. Другими словами, нельзя отправить почту с домена, не владея этим доменом. Это касается и бесплатных почтовых систем, например, Google. Если вы отправляете почту со своего сайта и указываете адрес отправителя с доменом @gmail.com, прежде всего, почтовый сервер получателя проверит, имеете ли вы право использовать адрес gmail в почте, отправляемой с вашего сайта. Т.к. сервер Google  не содержит SPF-данных о вашем домене, ваше сообщение будет расценено как подозрительное и будет заблокировано или отправлено в спам. 

Другой распространённый способ борьбы со спамом - технология DKIM. При DKIM-аутентификации сообщению присваивается цифровая подпись, по которой сообщение проходит проверку на агентском уровне передачи. Подпись генерируется специально для домена отправления. Сервер получения принимает почту, извлекает цифровую подпись из DNS-данных домена отправления и по ней проводит криптографическую аутентификацию, чтобы удостовериться, что в процессе передачи письмо не было изменено.

Существуют черные списки IP адресов и фильтры, которые определяют спам по элементам содержимого письма (типичным для спама ключевым словам и фразам, подозрительному html коду, битым ссылкам и т.п.).

Разнообразие средств борьбы со спамом показывает, что успешная доставка писем зависит от множества факторов. Чтобы предотвратить попадание писем в спам, необходимо настроить почтовый сервер и DNS-данные для прохождения аутентификации почты.

Сервис **Mail Tester** - простой способ проверить правильность настройки почты. Сервис находит проблемы в настройке отправки электронной почты и устанавливает спам рейтинг сообщений и степень вероятности попадания писем в спам. **Mail Tester** доступен на нескольких языках и предоставляет три бесплатных теста в сутки.

Как проверить почту через **Mail Tester**:

   1. Откройте сайт [**Mail Tester**](https://www.mail-tester.com "Тестирование отправки почты через Mail Tester")и скопируйте адрес электронной почты в буфер обмена.
      ![1.jpg]({{site.baseurl}}/attachments/ref_5hU36ima/1.jpg)
   
   2. Перейдите в панель администратора магазина и выполните одно из действий:

      * В разделе **Пользователи** создайте новую учётную запись с адресом, скопированным с сайта. Уведомления будут отправляться на указанный адрес.
      или:
      * В разделе **Настройка магазина / Уведомления по электронной почте** откройте вкладку **Настройки отправки E-Mail**. Введите скопированный адрес в поле **Е-mail получателя** в секции **Проверка параметров электронной почты** и нажмите **Отправить тестовое сообщение**.
   
   3. Вернитесь на [**Mail Tester**](https://www.mail-tester.com "Тестирование отправки почты через Mail Tester") и нажмите кнопку **Затем проверьте оценку**. **Mail Tester** проверит входящую почту и рассчитает спам-рейтинг сообщения с вашего сайта. 

Откроется страница с результатами проверки:
      ![3.jpg]({{site.baseurl}}/attachments/ref_5hU36ima/3.jpg)

Если рейтинг выше **7-8**, с сообщениям на сайте всё в порядке. На всякий случай, спросите нескольких покупателей, получают ли они письма из магазина.

Нажав на значок **+**, получите подробную информацию по каждому параметру проверки. Если вы видите     и галочку на зелёном фоне, результат хороший. Если нет - предстоит настроит отправку почты. 
![4.jpg]({{site.baseurl}}/attachments/ref_5hU36ima/4.jpg)

О чём говорит плохой результат проверки:
   * Ваш адрес внесён в чёрный список. 
   * Не создана SPF-запись.
   * Не настроена проверка цифровой подписью DKIM.
   * **SpamAssassin**распознаёт ваши письма как спам из-за содержимого (ключевые слова, битые ссылки, подозрительный html код и.т.п.).

Передайте результаты проверки хостингу или системному администратору для решения проблем. 

Если **Mail Tester** не получил сообщение из магазина, он зависает на странице проверки:
      ![2.jpg]({{site.baseurl}}/attachments/ref_5hU36ima/2.jpg)

Если вы видите эту страницу, значит отправка почты из магазина не работает. Обратитесь к хостингу или системному администратору.
