---
lang: ru
layout: article_with_sidebar
updated_at: '2017-10-27 17:16 +0400'
identifier: ref_fVgOaXam
title: Настройка зон доставки
order: 10
published: false
---
## Что такое зона доставки

В X-Cart 5 зоны используются для расчёта стоимости доставки вручную.  Зона состоит из страны, областей, городов  и индексов. Для зоны действуют специальные условия доставки.

### Примеры зон доставки

*   _Доставка по Москве в пределах МКАД_ - Выберите страну _Российская Федерация_ и создайте область _Москва (в пределах МКАД)_. Создайте зону доставки _Москва_. В настройках зоны установите область _Российская Федерация: Москва (в пределах МКАД)_, маску города _Москва_ и маски индексов 10%, 11%, 12%, 13% и 14%. Затем в разделе **Доставка** создайте способ доставки, в котором выберите зону доставки _Москва_.

*   _Доставка по Москве за МКАД_ - Выберите страну _Российская Федерация_ и создайте область _Московская область_. Создайте зону доставки _Московская область_. В настройках зоны установите область _Российская Федерация: Московская область_. В поле _Маски городов_ внесите список городов Московской облати. Затем в разделе **Доставка** создайте способ доставки, в котором выберите зону доставки _Московская область_.

*  _Доставка в города Российской Федерации_ - Выберите страну _Российская Федерация_, на вкладке Олати внестите все области страны. Создайте зону доставки _Российская Федерация_. В настройках зоны установите все области Российской Федерации. Затем в разделе **Доставка** создайте способ доставки, в котором выберите зону доставки _Российская Федерация_.

*  _Доставка в регионы Российской Федерации_ - Выберите страну _Российская Федерация_, внестите все области страны. Создайте зоны для каждого региона Российской Федерации. В настройках каждой зоны установите области, входящие в регион. В поле _Маски городов_ внесите список городов, входящих в области региона. Затем в разделе **Доставка** создайте способы доставки для каждой зоны.

Количество зон доставки зависит от настроек доставки. Зон доставки должно быть столько, сколько необходимо для действия настроенных правил расчета стоимости доставки. 

## Как X-Cart определяет адресную зону покупателя

Чтобы определить, какую стоимость доставки применить к заказу, X-Cart проверяет, к какой зоне доставки относится адрес покупателя. Для этого X-Cart последовательно проверяет каждое поле адреса - страну, область, индекс - и сравнивает данные с этими же полями зон доставки. Если X-Cart находит страну покупателя среди стран какой-то зоны, X-Сart переходит к проверке области. Если в найденной зоне не указаны области (т.е. в нее входят все области страны), значит, адрес покупателя входит в эту зону доставки. Если для найденной зоны указаны области, и области покупателя нет в этом списке, значит, адрес покупателя не входит в данную зону доставки. В этом случае, X-Cart переходит к проверке другой зоны доставки, в которую мог бы входить адрес покупателя. Если для зоны указаны области, и область покупателя есть в этом списке, X-Cart переходит к проверке индекса. Аналогично, если для зоны не указаны индексы, адрес покупателя входит в данную зону доставки, если указаны - X-Cart сравнивает индекс покупателя с индексами зоны.   

Если X-Cart находит адрес покупателя в нескольких зонах, он должен выбрать наиболее подходящую. Чем больше параметров зоны совпадает с адресом покупателя (страна, область, индекс), тем более подходящей считается зона доставки.  Чтобы определить стоимость доставки для заказа, когда адрес покупателя входит в несколько зон доставки, прежде всего, X-Cart проверяет расценки наиболее подходящей зоны. Если для этой зоны не задана стоимость доставки, X-Cart переходит к проверке расценок следующей подходящей зоны. Последняя зона, до которой может дойти проверка - Все адреса. Это стандартная зона доставки, она не может быть более или менее подходящей и используется, когда ни одна другая зона доставки не подходит. 

## Создание зон доставки

Например, создадим зону доставки _Москва_ (доставка по городу в пределах МКАД).

1. В панели управления магазина откройте страницу **Настройки магазина / Страны, области и зоны**:
    ![1.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/1.jpg)
2.  На вкладке **Страны** активируйте страну _Российская Федерация_.
3. Справа от названия страны нажмите **Добавить области** и создайте область _г. Москва (в пределах МКАД)_.
4.  Перейдите на вкладку **Зоны**:
    ![2.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/2.jpg)
    Откроется раздел **Зоны**, в котором вы можете создавать и изменять зоны доставки:
    ![3.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/3.jpg)

5.  Нажмите кнопку **Создать зону**:
    ![4.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/4.jpg)
    В списке зон появится пустое поле, в котором нужно указать название новой зоны доставки:
    ![5.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/5.jpg)
6.  Напишите название зоны _Москва_. 
    ![6.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/6.jpg)
    Новая зона появится в списке адресных зон:
    ![7.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/7.jpg)
7.  В поле области выберите область _г. Москва (в пределах МКАД)_.
8.  В поле **Маски городов** впишите _Москва_.
9.  В поле **Индекс/маски почтовых кодов** укажите маски индексов _10%, 11%, 12%, 13% и 14%_. Маски почтовых индексов используются для записи ряда индексов. Чтобы указать диапазон, замените какое-нибудь число значком %. Например, 1001% означает индексы от 10010 до 10019, 102% - от 10200 до 10299. Каждая новая маска индексов должна располагаться на новой строке.
10.  Наведите курсор на название новой зоны. Поле редактируется, прямо здесь можно поменять название зоны. При наведении курсора, справа появляется кнопка **Изменить**, с помощью которой можно редактировать настройки зоны доставки:
    ![8.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/8.jpg)
    Нажмите **Изменить**, откроется страница с информацией о зоне доставки:
    ![9.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/9.jpg)

7.  Когда все настройки установлены, нажмите **Сохранить**.
    ![11.jpg]({{site.baseurl}}/attachments/ref_fVgOaXam/11.jpg)
    Информация о зоне сохранена.

## Стандартная зона **Все адреса**

Даже если вы не создали новые зоны доставки, в магазине X-Cart всегда есть одна настроенная стандартная зона - Все адреса. Эта зона доставки создается во время установки магазина, и ее нельзя удалить.Наличие зоны доставки Все адреса гарантирует, что адресная зона покупателя будет определена, даже если его адрес не входит ни в одну из настроенных зон доставки. 

Если открыть зону Все адреса для редактирования, она кажется пустой, т.к. для нее не выбраны никакие страны и т.д. Но на самом деле, это не так, по умолчанию, эта зона настроена так, что в нее входят все адреса со всего мира. Вы можете изменить состав зоны в зависимости от того, куда вы собираетесь отправлять свои товары. Например, если установить страну Германия в настройках зоны Все адреса, то данная зона доставки будет включать только адреса в Германии.
